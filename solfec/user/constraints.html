<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Constraints &mdash; PARMES  documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/parmes.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PARMES  documentation" href="../../index.html" />
    <link rel="up" title="Solfec User Manual" href="../user.html" />
    <link rel="next" title="Solvers" href="solvers.html" />
    <link rel="prev" title="Loads" href="loads.html" />
  
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="constraints">
<span id="solfec-user-constraints"></span><h1>Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h1>
<p>An object of type CONSTRAINT represents a constraint and its associated data (e.g. constraint reaction).
Both, user prescribed constraints (routines below) and contact constraints (detected automatically) are
represented by an object of the same type. See also, the <a class="reference internal" href="../theory/joints.html#solfec-theory-joints"><span class="std std-ref">Joints section</span></a>.</p>
<div class="section" id="fix-point">
<span id="id1"></span><h2>FIX_POINT<a class="headerlink" href="#fix-point" title="Permalink to this headline">¶</a></h2>
<p>This routine creates a <a class="reference internal" href="../theory/joints.html#fixed-point"><span class="std std-ref">fixed point constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = FIX_POINT (body, point | strength)</p>
<ul class="simple">
<li>obj &#8211; created CONSTRAINT object</li>
<li>body &#8211; BODY object whose motion is constrained</li>
<li>point &#8211; (x, y, z) tuple with referential point coordinates</li>
<li>strength - optionally an ultimate magnitude of the reaction force, beyond which the constraint will be deleted (default: infinity)</li>
</ul>
</div>
</div>
<div class="section" id="fix-direction">
<span id="id2"></span><h2>FIX_DIRECTION<a class="headerlink" href="#fix-direction" title="Permalink to this headline">¶</a></h2>
<p>This routine fixes the motion of a referential point along a specified spatial direction.
If body2 is given the motion of point2 along the direction convected with the first body is fixed.
See also, formulation of the <a class="reference internal" href="../theory/joints.html#fixed-direction"><span class="std std-ref">fixed direction constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = FIX_DIRECTION (body, point, direction | body2, point2)</p>
<ul class="simple">
<li>obj &#8211; created CONSTRAINT object</li>
<li>body &#8211; BODY object whose motion is constrained</li>
<li>point &#8211; (x, y, z) tuple with referential point coordinates</li>
<li>direction &#8211; (vx, vy, vz) tuple with spatial direction components</li>
<li>body2 &#8211; BODY object whose motion is constrained with respect to the motion of the first body (in this case body and body2 can only be either rigid or pseudo-rigid)</li>
<li>point2 &#8211; (x, y, z) tuple with referential point on body2</li>
</ul>
</div>
</div>
<div class="section" id="set-displacement">
<span id="id3"></span><h2>SET_DISPLACEMENT<a class="headerlink" href="#set-displacement" title="Permalink to this headline">¶</a></h2>
<p>This routine prescribes a displacement history of a referential point along a specified spacial direction.
See also, formulation of the <a class="reference internal" href="../theory/joints.html#prescribed-displacement"><span class="std std-ref">prescribed displacement constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = SET_DISPLACEMENT (body, point, direction, tms)</p>
<ul class="simple">
<li>obj &#8211; created CONSTRAINT object</li>
<li>body &#8211; BODY object whose motion is constrained</li>
<li>point &#8211; (x, y, z) tuple with referential point coordinates</li>
<li>direction &#8211; (vx, vy, vz) tuple with spatial direction components</li>
<li>tms &#8211; TIME_SERIES object with the displacement history</li>
</ul>
</div>
</div>
<div class="section" id="set-velocity">
<span id="id4"></span><h2>SET_VELOCITY<a class="headerlink" href="#set-velocity" title="Permalink to this headline">¶</a></h2>
<p>This routine prescribes a velocity history of a referential point along a specified spacial direction.
See also, formulation of the <a class="reference internal" href="../theory/joints.html#prescribed-velocity"><span class="std std-ref">prescribed velocity constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = SET_VELOCITY (body, point, direction, value)</p>
<ul class="simple">
<li>obj &#8211; created CONSTRAINT object</li>
<li>body &#8211; BODY object whose motion is constrained</li>
<li>point &#8211; (x, y, z) tuple with referential point coordinates</li>
<li>direction &#8211; (vx, vy, vz) tuple with spatial direction components</li>
<li>value &#8211; a constant value or a TIME_SERIES object with the velocity history</li>
</ul>
</div>
</div>
<div class="section" id="set-acceleration">
<span id="id5"></span><h2>SET_ACCELERATION<a class="headerlink" href="#set-acceleration" title="Permalink to this headline">¶</a></h2>
<p>This routine prescribes an acceleration history of a referential point along a specified spacial direction.
See also, formulation of the <a class="reference internal" href="../theory/joints.html#prescribed-acceleration"><span class="std std-ref">prescribed acceleration constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = SET_ACCELERATION (body, point, direction, tms)</p>
<ul class="simple">
<li>obj &#8211; created CONSTRAINT object</li>
<li>body &#8211; BODY object whose motion is constrained</li>
<li>point &#8211; (x, y, z) tuple with referential point coordinates</li>
<li>direction &#8211; (vx, vy, vz) tuple with spatial direction components</li>
<li>tms &#8211; TIME_SERIES object with the acceleration history</li>
</ul>
</div>
</div>
<div class="section" id="put-rigid-link">
<span id="id6"></span><h2>PUT_RIGID_LINK<a class="headerlink" href="#put-rigid-link" title="Permalink to this headline">¶</a></h2>
<p>This routine creates a rigid link constraints between two referential points of two distinct bodies.
See also, formulation of the <a class="reference internal" href="../theory/joints.html#rigid-link"><span class="std std-ref">rigid link constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = PUT_RIGID_LINK (body1, body2, point1, point2 | strength)</p>
<ul class="simple">
<li>obj &#8211; created CONSTRAINT object</li>
<li>body1 &#8211; BODY object one whose motion is constrained (could be <em>None</em> when body2 is not <em>None</em> &#8211; then one of the points is fixed “in the air”)</li>
<li>body2 &#8211; BODY object two whose motion is constrained (could be <em>None</em> when body1 is not <em>None</em>)</li>
<li>point1 &#8211; (x1, y1, z1) tuple with the first referential point coordinates</li>
<li>point2 &#8211; (x2, y2, z2) tuple with the second referential point coordinates</li>
<li>strength &#8211; optionally an ultimate tensile strength if point1 != point2,
beyond which the link will be deleted (default: infinity); or ultimate reaction magnitude (point1 == point2)</li>
</ul>
</div>
</div>
<div class="section" id="put-spring">
<span id="id7"></span><h2>PUT_SPRING<a class="headerlink" href="#put-spring" title="Permalink to this headline">¶</a></h2>
<p>This routine creates an arbitrary spring between two referential points of two distinct bodies.
See also, formulation of the <a class="reference internal" href="../theory/joints.html#simple-spring"><span class="std std-ref">spring constraint</span></a>.</p>
<div class="topic">
<p class="topic-title first">obj = PUT_SPRING (body1, point1, body2, point2, function, limits | direction, update) <span class="red">(Under development)</span></p>
<ul>
<li><p class="first">obj &#8211; created CONSTRAINT object</p>
</li>
<li><p class="first">body1 &#8211; BODY object one whose motion is constrained</p>
</li>
<li><p class="first">point1 &#8211; (x1, y1, z1) tuple with the first referential point coordinates</p>
</li>
<li><p class="first">body2 &#8211; BODY object two whose motion is constrained</p>
</li>
<li><p class="first">point2 &#8211; (x2, y2, z2) tuple with the second referential point coordinates</p>
</li>
<li><p class="first">function &#8211; Python function callback returning the value of force as the function of stroke:</p>
<p><strong>force = function (stroke, velocity)</strong></p>
<p>where <span class="math">\(\text{stroke=}\mathbf{n}\cdot\text{current}\left(\text{point2}-\text{point1}\right)-\text{initial}\left(\left|\text{point2}-\text{point1}\right|\right)\)</span>
and <em>velocity</em> is the current relative velocity along the spring direction <span class="math">\(\mathbf{n}\)</span> (positive if stroke increases)</p>
</li>
<li><p class="first">limits &#8211; (smin, smax) tuple defining stroke limits (smin <span class="math">\(\le\)</span> 0 and smax <span class="math">\(\ge\)</span> 0)</p>
</li>
<li><p class="first">direction &#8211; (nx, ny, nz) tuple storing spring direction <span class="math">\(\mathbf{n}\)</span>.
Default: <span class="math">\(\mathbf{n}=\text{normalized}\left(\text{current}\left(\text{point2}-\text{point1}\right)\right)\)</span> resulting in a follower type spring.
When specified, <span class="math">\(\mathbf{n}\)</span> will be updated according to the value of update.</p>
</li>
<li><p class="first">update &#8211; direction update kind (default: &#8216;FIXED&#8217;); one of: &#8216;FIXED&#8217; where <span class="math">\(\mathbf{n}\)</span> is kept fixed,
or &#8216;CONV1&#8217; where <span class="math">\(\mathbf{n}\)</span> is convected with body1, or &#8216;CONV2&#8217; where <span class="math">\(\mathbf{n}\)</span> is convected with body2.</p>
</li>
</ul>
</div>
<p>Some parameters can also be accessed as members of a CONSTRAINT object, cf. <a class="reference internal" href="#constraint-params"><span class="std std-numref">Table 18</span></a>.</p>
<table border="1" class="docutils" id="id8">
<span id="constraint-params"></span><caption><span class="caption-number">Table 18 </span><span class="caption-text">CONSTRAINT object parameters.</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Read only members:</strong></td>
</tr>
<tr class="row-even"><td><strong>obj.kind</strong> &#8211; kind of constraint: &#8216;CONTACT&#8217;, &#8216;FIXPNT&#8217; (fixed point), &#8216;FIXDIR&#8217; (fixed direction),
&#8216;VELODIR&#8217; (prescribed velocity; note that prescribed displacement and acceleration are converted into
this case), &#8216;RIGLNK&#8217; (rigid link)</td>
</tr>
<tr class="row-odd"><td><strong>obj.R</strong> &#8211; current average (over time step <span class="math">\(\left[t,t+h\right]\)</span>) constraint reaction in a form
of a tuple: (RT1, RT2, RN) given with respect to a local base stored at <em>obj.base</em></td>
</tr>
<tr class="row-even"><td><strong>obj.U</strong> &#8211; constraint output relative velocity tuple: (UT1, UT2, UN) given with respect to a local
base stored at <em>obj.base</em></td>
</tr>
<tr class="row-odd"><td><strong>obj.V</strong> &#8211; contact input relative velocity tuple: (VT1, VT2, VN) given with respect to a local base
stored at <em>obj.base</em></td>
</tr>
<tr class="row-even"><td><strong>obj.base</strong> &#8211; current spatial coordinate system in a form of a tuple: (eT1x, eT2x, eNx, eT1y, eT2y,
eNy, eT1z, eT2z, eNz) where x, y, z components are global</td>
</tr>
<tr class="row-odd"><td><strong>obj.point</strong> &#8211; current spatial point where the constraint force acts. This is a (x, y, z) tuple for
all constraint types, but &#8216;RIGLNK&#8217; for which this is a (x1, y1, z1, x2, y2, z2) tuple.</td>
</tr>
<tr class="row-even"><td><strong>obj.area</strong> &#8211; current area for contact constraints or zero otherwise</td>
</tr>
<tr class="row-odd"><td><strong>obj.gap</strong> &#8211; current gap for contact constraints or zero otherwise</td>
</tr>
<tr class="row-even"><td><strong>obj.merit</strong> &#8211; current value of the per&#8211;constraint merit function</td>
</tr>
<tr class="row-odd"><td><strong>obj.adjbod</strong> &#8211; adjacent bodies. This is a tuple (body1, body2) of BODY objects for &#8216;CONTACT&#8217; and
&#8216;RIGLNK&#8217; or a single BODY object otherwise.</td>
</tr>
<tr class="row-even"><td><strong>obj.matlab</strong> - surface material label for constraints of kind &#8216;CONTACT&#8217;, or a <em>None</em> object otherwise.</td>
</tr>
<tr class="row-odd"><td><strong>obj.spair</strong> - pairing of surfaces (surf1, surf2) for contact constraints or <em>None</em> object otherwise.
The tuple (surf1, surf2) corresponds to the surface identifiers for the (body1, body2) body pairing
returned by <em>obj.adjbod</em></td>
</tr>
</tbody>
</table>
</div>
</div>

  <div class="section">
  
  
  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">PARMES</a></h1>



<p class="blurb">Parallel mechanics and particulate media software blog</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=parmes&repo=parmes&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../about.html">SOLFEC</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running.html">Running</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../user.html">User Manual</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="solfec.html">SOLFEC object</a></li>
<li class="toctree-l3"><a class="reference internal" href="body.html">BODY object</a></li>
<li class="toctree-l3"><a class="reference internal" href="geometry.html">Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="materials.html">Materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="times.html">Time series</a></li>
<li class="toctree-l3"><a class="reference internal" href="loads.html">Loads</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Constraints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fix-point">FIX_POINT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fix-direction">FIX_DIRECTION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-displacement">SET_DISPLACEMENT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-velocity">SET_VELOCITY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-acceleration">SET_ACCELERATION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#put-rigid-link">PUT_RIGID_LINK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#put-spring">PUT_SPRING</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="solvers.html">Solvers</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html">Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../theory.html">Theory Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../validation.html">Validation Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../abaqus.html">ABAQUS import</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xdmf.html">XDMF export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../applications.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dynlb/about.html">DYNLB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parmec/about.html">PARMEC</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../about.html">SOLFEC</a><ul>
  <li><a href="../user.html">Solfec User Manual</a><ul>
      <li>Previous: <a href="loads.html" title="previous chapter">Loads</a></li>
      <li>Next: <a href="solvers.html" title="next chapter">Solvers</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../blog.html">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../../blog/about.html">Jun 13 - About PARMES</a></li>
    
  </ul>

  <h3><a href="../../blog/tag.html">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/parmes.html">parmes</a></li>
      
    
  </ul>

  <h3><a href="../../blog/archive.html">Archives</a></h3>
  <ul>
  
    
    <li><a href="../../blog/2016.html">2016 (1)</a></li>
    
  
  </ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016 PARMES team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../../_sources/solfec/user/constraints.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>